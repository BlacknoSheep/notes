<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作用域</title>
    <script>
        /*
            作用域（scope）
                - 作用域指的是一个变量的可见区域
                - 作用域有两种：
                    1.全局作用域
                        - 在网页运行时创建，在网页关闭时销毁
                        - 所有直接写到script标签中的代码都位于全局作用域中
                        - 全局作用域中的变量时全局变量，可以在任何位置访问
                    
                    2.局部作用域
                        （1）块作用域
                            - 块作用域在代码块执行时创建，代码块执行完毕时销毁
                            - 在块作用域内声明的变量时局部变量，只能在块内部访问，外部无法访问
        */
        let a = "变量a";  // 全局作用域
        {
            let b = "变量b";  // 局部作用域
            
            {
                let c = "变量c";  //局部作用域
            }
        }


        /*
            函数作用域
                - 函数作用域是一种局部作用域
                - 函数作用域在函数调用时产生，调用结束后销毁
                - 函数每次调用都会产生一个全新的函数作用域
                - 在函数中定义的变量是局部变量，只能在函数内部访问，外部无法访问
                - 函数本身受函数作用域限制（子函数无法在父函数外部访问），但不受块作用域限制（但定义在块内的函数可以在块外访问）
        */
        function fun1(){
            let a = "fun1内部变量";
            console.log(a);
        }
        fun1();  // 此时产生函数作用域，并在调用结束后销毁
        // console.log(a);  // 报错


        /*
            作用域链
                当我们使用一个变量时，
                    JS解释器会按就近原则寻找变量
                        - 优先在当前作用域中寻找，若没有则逐层在外层作用域中寻找
                            若直到全局作用域都未找到，则报错
        */
        let b = "全局b";
        {
            let b = "一级局部b";
            {
                let b = "二级局部b";
                console.log(b);  // "二级局部b"
            }
        }
    </script>
</head>

<body>

</body>

</html>