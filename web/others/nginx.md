# 一、一些概念

## 1. 正向代理

作为客户端的代理，与服务器交互。例如帮助客户端访问其无法直接访问的资源。

正向代理需要在客户端进行设置，需要设置代理服务器的 IP 或域名。

在向代理服务器发送请求时，需要指定目标服务器的地址，由代理服务器与目标服务器交互，并将结果返回给客户端。

**正向代理的作用：**突破访问限制；提高访问速度（代理服务器会对响应进行缓冲）；隐藏客户端真实 IP；……

## 2. 反向代理

反向代理是对服务器的代理，对客户端而言，反向代理服务器就如同目标服务器一样，客户端不需要进行任何设置。

反向代理服务器在收到请求后，会将请求转发给其他服务器（这部分对客户端来说是不可见的），然后将响应返回给客户端。

**反向代理的作用：**负载均衡；隐藏原始资源服务器；加密；……

## 3. 负载均衡

将网络流量分配到不同服务器，可以通过反向代理实现。

# 一、介绍

nginx是一个高性能的 http 和反向代理 web 服务器。同时也提供了IMAP/POP3/SMTP服务。

nginx的主要功能：

- 正向代理
- 反向代理
- 负载均衡：
  - 轮询：默认方式，所有请求按照时间顺序依次分配到不同服务器上。
  - 权重：依照权重进行分配，权重高的服务器会分配到更多访问。
- 动静分离：将静态资源部署在 nginx 上，提升访问速度。如果收到静态资源请求，则直接从 nginx 服务器返回；如果是动态资源请求，则通过反向代理转发。